<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap CSS File -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    <!-- Get Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

    <!-- Custom CSS File -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/project-page.css">
    <link rel="stylesheet" href="css/slideshow.css">
    <link rel="stylesheet" href="css/scrollspy-toc.css">


    <title>Submersible Ballast System</title>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-black navbar-dark fixed-top">
        <!-- Home Jeromy Button -->
        <div class="container-lg py-1">
            <a class="navbar-brand" href="index.html">
                <i class="bi-house"></i>
                Jeromy Denk
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <li class="nav-item">
                            <a class="nav-link" href="projects.html">
                                <i class="bi-hammer"></i>
                                Projects
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="about.html">
                                <i class="bi-person-lines-fill"></i>
                                About Me
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="resume.html">
                                <i class="bi-card-list"></i>
                                Resume
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contact.html">
                                <i class="bi-envelope"></i>
                                Contact
                            </a>
                        </li>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Page Container -->
    <div class="div container-lg p-0 page-content-container">

        
        
        <!-- Splash Image and Project Title -->
        <div class="container-lg p-0">
            <div class="img-container">
                <img src="images/submarine/submarine-banner.jpg" class="splash-img" alt="">
            
                <!-- Project Title -->
                <div class="project-title">
                    <h1>Submersible Ballast System</h1>
                    <h2>Mechanical Engineering Capstone Project</h2>
                </div>
            </div>
        </div>
    
        <!-- Breadcrumbs -->
        <section>
            <div class="container-lg p-0 ">
                <nav>
                    <ol class="breadcrumb hdr-shadow">
                        <li class="breadcrumb-item">
                            <a href="projects.html">Projects</a></li>
                        <li class="breadcrumb-item active"><span>Submersible Ballast System</span> </li>
                    </ol>
                </nav>
            </div>
        </section>
    
        <!-- Project -->
        <section>
            <!-- Last Updated -->
            <div class="container-lg bg-light p-0">
                <div class="grad-upper container-lg"></div>
                <div class="last-updated">
                    <img src="images/84380.png" style="height:1.5rem;width:1.5rem"alt="">
                    <span>Last Updated:</span> January 30th 2023
                </div>
            </div>

            <!-- TOC and Article -->
            <div class="container-lg bg-light p-0">
                <div class="row">
                    <div class="col-3 d-none d-md-block">
                        <nav class="nav-toc">
                            <h5>on this page</h5>
                            <a class="toc-link active" href="#item-1">Project Mandate</a>
                            <a class="toc-link" href="#item-2">Proposed Design</a>
                            <ul>
                                <a class="toc-link" href="#item-2-1">Main Ballast System</a>
                                <a class="toc-link" href="#item-2-2">Variable Ballast System</a>
                                <a class="toc-link" href="#item-2-3">Emergency Dropweights</a>    
                            </ul> 
                            <a class="toc-link" href="#item-3">Parametrization</a>
                            <a class="toc-link" href="#item-4">Video and Report</a>              
                        </nav>
                    </div>

                    
                    <!-- Article -->
                    <div class="col-12 col-md-9">
                        <article class="contents">
                            <!------------------------------- NEW SECTION ------------------------------------>
                            <section class="article-section" id="item-1">
                                <h2>The Project</h2>
                                <p>
                                     For our engineering capstone project, our group was tasked with designing a ballast system for a manned submersible that would allow the craft to dive to depths of up to 1000m below sea level.
                                 </p>
                                 <p>
                                     Design of the vessel was broken up into two teams, with one team tasked with designing the sub's frame and passenger cabin, and our team: tasked with designing the sub's ballast system. Working with another team proved to be a very valuable learning experience. Early attempts at integrating the design of the ballast system with the sub's frame resulted in severe weight and balance issues that had to be resolved through several meetings. At the end, the sub met or exceeded all of the design requirements. Looking back, I'm proud of the design our team came up with.
                                 </p>
 
                                 <!-- <img src="images/submarine/card-submarine.jpg" alt=""> -->
                                 <div class="slideshow-container">
                                     <!-- Full-width images with number text -->
                                     <div class="mySlides">
                                         <div class="numbertext">1 / 5</div>
                                         <img src="images/submarine/Untitled.jpg" style="width:100%">
                                         <div class="caption-text">Submersible with outer shell hidden</div>
                                     </div>
                                     <div class="mySlides">
                                         <div class="numbertext">2 / 5</div>
                                         <img src="images/submarine/Capstone-Submarine 2.jpg" style="width:100%">
                                         <div class="caption-text">Rear view of ballast system assembly with frame hidden</div>
                                     </div>
                         
                                     <div class="mySlides">
                                         <div class="numbertext">3 / 5</div>
                                         <img src="images/submarine/Capstone-Submarine.jpg" style="width:100%">
                                         <div class="caption-text">Front view of ballast system assembly with frame hidden</div>
                                     </div>
                                     
                                     <div class="mySlides">
                                         <div class="numbertext">4 / 5</div>
                                         <img src="images/submarine/Capstone-Submarine-Final-6 2.jpg" style="width:100%">
                                         <div class="caption-text">Render of submersible underwater. Shell hidden to show MBTs</div>
                                     </div>
 
                                     <div class="mySlides">
                                         <div class="numbertext">5 / 5</div>
                                         <img src="images/submarine/Capstone-Submarine-Final-6 3.jpg" style="width:100%">
                                         <div class="caption-text">Render of submersible underwater (rear). Shell hidden to show valve panel and rear VBT.</div>
                                     </div>
                         
                                     <!-- Next and previous buttons -->
                                     <div class="hover-bar left">
                                         <a class="prev">&#10094;<span></span></a>
                                     </div>
                                     <div class="hover-bar right">
                                         <a class="next">&#10095;<span></span></a>
                                     </div>
                         
                                 </div>
                                 <h3>Design Requirements</h3>
                                 <p>
                                     The project design requirements consisted of the following:
                                     <ul>
                                         <li>The submarine must be capable of withstanding dives of up to 1000m in depth</li>
                                         <li>Main ballast tanks used for surfacing the sub must be capable of generating 2200kg of buoyant force</li>
                                         <li>Variable ballast tanks used for pitch trim and deptch control must provide a maximum of 50kg of buoyancy</li>
                                         <li>The sub must contain a drop weight mechanism for emergency deballasting</li>
                                     </ul>
                                 </p>
                            </section>
                            <!------------------------------- NEW SECTION ------------------------------------>
                            <section class="article-section" id="item-2-1">
                                <h2 id="item-2">Proposed Design</h2>
                                <!---------------- NEW SUBSECTION ---------------->
                                <h3>The Main Ballast System</h3>
                                <!-- <img src="images/submarine/Capstone-Submarine-Final-8 2.jpg" alt=""> -->
                                <div class="slideshow-container">
                                    <!-- Full-width images with number text -->
                                    <div class="mySlides">
                                        <div class="numbertext">1 / 4</div>
                                        <img src="images/submarine/Capstone-Submarine-Final-5 2.jpg" style="width:100%">
                                        <div class="caption-text">Main ballast system. Unrelated components greyed out </div>
                                    </div>
                                    <div class="mySlides">
                                        <div class="numbertext">2 / 4</div>
                                        <img src="images/submarine/Capstone-Submarine-Final-8 3.jpg" style="width:100%">
                                        <div class="caption-text">Left MBT cross-section showing front-left VBT, baffles, air inlets and flood holes </div>
                                    </div>
                                    <div class="mySlides">
                                        <div class="numbertext">3 / 4</div>
                                        <img src="images/submarine/Capstone_report (1)_page72_image4.jpg" style="width:100%">
                                        <div class="caption-text">Left MBT cross-section - labeled</div>
                                    </div>
                        
                                    <div class="mySlides">
                                        <div class="numbertext">4 / 4</div>
                                        <img src="images/submarine/Capstone_report (1)_page72_image8.jpg" style="width:100%">
                                        <div class="caption-text">Air cyllinder array - labeled</div>
                                    </div>


                        
                                    <!-- Next and previous buttons -->
                                    <div class="hover-bar left">
                                        <a class="prev">&#10094;<span></span></a>
                                    </div>
                                    <div class="hover-bar right">
                                        <a class="next">&#10095;<span></span></a>
                                    </div>
                                    <!-- <a class="expand"><img src="images/138-enlarge.png" alt=""></a> -->
                        
                                </div>
                                <p>
                                    Two cyllindrical main ballast tanks (MBTs) on either side of the passenger cabin enable the submarine to surface above the water, and give it enough buoyancy so that passengers can safely enter and exit the cabin.
                                </p>
                                <p>
                                    Purging the MBTs with air is accomplished by opening a valve connecting the four air bottles with the MBTs. Once opened, air rushes into each MBT through two air inlets. This forces the water in each MBT to exit through flood holes located on the underside of each MBT. 
                                </p>
                                <p>
                                    Deballasting (flooding the main ballast tanks) is accomplished by four solenoid-controlled valves - two on top of each MBT. When opened, the weight of the submarine forces water to displace the air inside the MBTs, putting the sub in a neutrally buoyant state and ready to dive.
                                </p>
                            </section>

                            <section class="article-section" id="item-2-2">
                                <!---------------- NEW SUBSECTION ---------------->
                                <h3>The Variable Ballast System</h3>
                                <!-- <img src="images/submarine/Capstone-Submarine-Final-4.jpg" alt=""> -->
                                <div class="slideshow-container">
                                    <!-- Full-width images with number text -->
                                    <div class="mySlides">
                                        <div class="numbertext">1 / 4</div>
                                        <img src="images/submarine/Capstone-Submarine-Final-5 3.jpg" style="width:100%">
                                        <div class="caption-text">Variable ballast system. Unrelated components greyed out </div>
                                    </div>
                                    <div class="mySlides">
                                        <div class="numbertext">2 / 4</div>
                                        <img src="images/submarine/Capstone_report (1)_page72_image18.jpg" style="width:100%">
                                        <div class="caption-text">Variable ballast system - Labeled </div>
                                    </div>
                                    <div class="mySlides">
                                        <div class="numbertext">3 / 4</div>
                                        <img src="images/submarine/Untitled 2.jpg" style="width:100%">
                                        <div class="caption-text">Front VBT cross-section</div>
                                    </div>
                                    <div class="mySlides">
                                        <div class="numbertext">4 / 4</div>
                                        <img src="images/submarine/Capstone-Submarine-Final-8 5.jpg" style="width:100%">
                                        <div class="caption-text">Rear VBT cross-section showing valve panel and VBT plumbing  </div>
                                    </div>
                        
                                    <!-- <div class="mySlides">
                                        <div class="numbertext">5 / 5</div>
                                        <img src="images/submarine/Capstone_report (1)_page72_image16.jpg" style="width:100%">
                                        <div class="caption-text">Valve Panel - top view - labeled</div>
                                    </div> -->
    
                        
                                    <!-- Next and previous buttons -->
                                    <div class="hover-bar left">
                                        <a class="prev">&#10094;<span></span></a>
                                    </div>
                                    <div class="hover-bar right">
                                        <a class="next">&#10095;<span></span></a>
                                    </div>
                                    <!-- <a class="expand"><img src="images/138-enlarge.png" alt=""></a> -->
                        
                                </div>
                                <p>
                                    The variable ballast system allows for both pitch trim, and fine buoyancy control of the submarine. It consists of two forward variable ballast tanks (VBTs) located behind the forward dome of each MBT, and one rear VBT - located behind the passenger cabin. 
                                </p>
                                <p>
                                    Designing the variable ballast system to allow for both depth control and pitch control was perhaps the most challenging part of the project. 
                                </p>
                                <!-- <img src="images/submarine/Pasted image 20220823175520.png" alt=""> -->
                                <div class="slideshow-container">
                                    <!-- Full-width images with number text -->
                                    <div class="mySlides">
                                        <div class="numbertext">1 / 2</div>
                                        <img src="images/submarine/Untitled 5.jpg" style="width:100%">
                                        <div class="caption-text">Valve panel - top view </div>
                                    </div>
                                    <div class="mySlides">
                                        <div class="numbertext">2 / 2</div>
                                        <img src="images/submarine/Capstone_report (1)_page72_image16.jpg" style="width:100%">
                                        <div class="caption-text">Valve panel - labeled </div>
                                    </div>
                        
                                    <!-- <div class="mySlides">
                                        <div class="numbertext">5 / 5</div>
                                        <img src="images/submarine/Capstone_report (1)_page72_image16.jpg" style="width:100%">
                                        <div class="caption-text">Valve Panel - top view - labeled</div>
                                    </div> -->
    
                        
                                    <!-- Next and previous buttons -->
                                    <div class="hover-bar left">
                                        <a class="prev">&#10094;<span></span></a>
                                    </div>
                                    <div class="hover-bar right">
                                        <a class="next">&#10095;<span></span></a>
                                    </div>
                                    <!-- <a class="expand"><img src="images/138-enlarge.png" alt=""></a> -->
                                    
                                </div>
                                <p>
                                    Located behind the passenger compartment, the valve panel houses the electric motor, pump, seawater intake, and all of the plumbing and solenoid valves needed to accomplish both pitch-trim control and depth-control of the submarine.
                                </p>
                                <p>
                                    The variable ballast system is explained in-depth in our team's video presentation, as well as in our full project report.
                                </p>
                            </section>
                            
                            <section class="article-section" id="item-2-3">
                                <!---------------- NEW SUBSECTION ---------------->
                                <h3>Emergency Dropweights</h3>
                                <!-- <img src="images/submarine/Untitled 3.jpg" alt=""> -->
                                <div class="slideshow-container">
                                    <!-- Full-width images with number text -->
                                    <div class="mySlides">
                                        <div class="numbertext">1 / 4</div>
                                        <img src="images/submarine/Capstone-Submarine-Final-5 5.jpg" style="width:100%">
                                        <div class="caption-text">Dropweight mechanism. Unrelated components greyed out </div>
                                    </div>
                                    <div class="mySlides">
                                        <div class="numbertext">2 / 4</div>
                                        <img src="images/submarine/Untitled 3.jpg" style="width:100%">
                                        <div class="caption-text">Left dropweight </div>
                                    </div>
    
                                    <div class="mySlides">
                                        <div class="numbertext">3 / 4</div>
                                        <img src="images/submarine/Capstone_report (1)_page72_image21.jpg" style="width:100%">
                                        <div class="caption-text">Dropweight, showing collar and drop-mechanism - labeled </div>
                                    </div>
                                    <div class="mySlides">
                                        <div class="numbertext">4 / 4</div>
                                        <img src="images/submarine/Capstone_report (1)_page72_image23.jpg" style="width:100%">
                                        <div class="caption-text">Dropweight drop-mechanism cross-section - labeled </div>
                                    </div>
                        
                                    <!-- <div class="mySlides">
                                        <div class="numbertext">5 / 5</div>
                                        <img src="images/submarine/Capstone_report (1)_page72_image16.jpg" style="width:100%">
                                        <div class="caption-text">Valve Panel - top view - labeled</div>
                                    </div> -->
    
                        
                                    <!-- Next and previous buttons -->
                                    <div class="hover-bar left">
                                        <a class="prev">&#10094;<span></span></a>
                                    </div>
                                    <div class="hover-bar right">
                                        <a class="next">&#10095;<span></span></a>
                                    </div>
                                    <!-- <a class="expand"><img src="images/138-enlarge.png" alt=""></a> -->
                        
                                </div>
                                <p>
                                    Two dropweights - one below each MBT - contain the bulk of the submarine's batteries as well as additional lead weights.
                                </p>
                                <p>
                                    In the event of an emergency, or complete loss of power, solenoid actuators holding the dropweights in place via pins retract, allowing the dropweights to be jettisoned. This places the submarine into a positively buoyant state, even in the event that all VBTs and MBTs are completely flooded with water.
                                </p>
                            </section>
                            <!------------------------------- NEW SECTION ------------------------------------>
                            <section class="article-section" id="item-3">
                                <h2>Parametrization</h2>
                                <p>In order to allow for rapid reconfiguring of the ballast system design, a MATLAB GUI was created, which allows the user to quickly generate Solidworks part files given a range of inputs:</p>
                                <p>
                                    <ul>
                                        <li>Minimum desired freeboard affects the radius of the MBTs</li>
                                        <li>Maximum operating depth affects the thickness of the MBTs and VBTs, as well as the number of air bottles needed</li>
                                        <li>Water temperature and salinity affects the size of the dropweights needed for the sub to remain neutrally buoyant</li>
                                        <li>Desired ascent and descent speeds affect the maximum ballast capacity of the VBTs</li>
                                    </ul>
                                </p>
                                <!-- <img src="images/submarine/Pasted image 20220823180904.png" alt=""> -->
                                <div class="slideshow-container">
                                    <!-- Full-width images with number text -->
                                    <div class="mySlides">
                                        <div class="numbertext">1 / 3</div>
                                        <img src="images/submarine/Capstone_report (1)_page72_image25.jpg" style="width:100%">
                                        <div class="caption-text">Ballast system - 330m depth configuration </div>
                                    </div>
                                    <div class="mySlides">
                                        <div class="numbertext">2 / 3</div>
                                        <img src="images/submarine/Capstone_report (1)_page72_image26.jpg" style="width:100%">
                                        <div class="caption-text">Ballast system - 1000m depth configuration </div>
                                    </div>

                                    <div class="mySlides">
                                        <div class="numbertext">3 / 3</div>
                                        <img src="images/submarine/Capstone_report (1)_page72_image29.jpg" style="width:100%">
                                        <div class="caption-text">MATLAB GUI for configuring Solidworks part files </div>
                                    </div>
                        
                                    <!-- <div class="mySlides">
                                        <div class="numbertext">5 / 5</div>
                                        <img src="images/submarine/Capstone_report (1)_page72_image16.jpg" style="width:100%">
                                        <div class="caption-text">Valve Panel - top view - labeled</div>
                                    </div> -->

                        
                                    <!-- Next and previous buttons -->
                                    <div class="hover-bar left">
                                        <a class="prev">&#10094;<span></span></a>
                                    </div>
                                    <div class="hover-bar right">
                                        <a class="next">&#10095;<span></span></a>
                                    </div>
                                    <!-- <a class="expand"><img src="images/138-enlarge.png" alt=""></a> -->
                        
                                </div>
                            </section>
                            
                            <!------------------------------- NEW SECTION ------------------------------------>    
                            <section class="article-section" id="item-4">
                                <h2>Presentation Video and Project Report</h2>
                                <p>A copy of our team's project report, detailing our full design process, is available <a href="images/submarine/Capstone_report.pdf">here</a>.</p>
                                <p>Below is a video of our team's final design presentation. Due to COVID measures, it was recorded in advance and presented to our project supervisor. </p>
                                <div class="video-container" >
                                    <iframe 
                                        width="100%" 
                                        height="100%" 
                                        src="https://www.youtube.com/embed/87PqOn4iKUk" 
                                        title="YouTube video player"
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen>
                                    </iframe>
                                </div>
                                <p>Notice how tired we all seem! Finals season spares no-one.</p>
                            </section>
                         </article>
                    </div>
                </div>
            </div>
            <div class="grad-lower container-lg"></div>
        </section>
            
        <!-- Contact Header -->
        <section class="text-center text-light">
                <div class="container-lg bg-black py-3 header">
                    <h1>Contact</h1>
                </div>
        </section>
    
        <!-- Contact Section -->
        <section>
            <!-- Contact Form -->
            <div class="container-lg bg-light py-4">
                <div class="row m-0">
                    <!-- Picture -->
                    <div class="col-3 contact-selfie-col d-none d-md-block p-2 my-auto">
                        <img src="images/backpacking_selfie.jpg" class="contact-selfie" alt="">
                    </div>
                    <!-- Form -->
                    <div class="col contact-form-col p-2">
                        <!-- Text -->
                        <div class="col">
                            <p class="fs-4">
                                <span id="contact-thanks">Thanks for visiting!</span> Please feel free to reach out!
                                I would be happy to answer any questions or inquiries you may have.
                            </p>
                        </div>
                        <!-- Name and Email -->
                        <form action="https://formspree.io/f/mvoyzgwp" method="POST">
                            <div class="row contact-row m-0">
                                <!-- Name -->
                                <div class="col-12 col-md-6 form-col name-col">
                                    <input type="name" class="form-control" id="formInputName" placeholder="Name">
                                </div>
                                <!-- Email -->
                                <div class="col-12 col-md-6 form-col email-col">
                                    <input type="email" class="form-control" id="formInputEmail" placeholder="Email">
                                </div>
                                <!-- Message -->
                                <div class="col form-col message-col">
                                    <textarea name="message" class="form-control" id="exampleFormControlTextarea1" placeholder="Message" rows="4"></textarea>
                                </div>
                                <!-- Send Button -->
                                <div class="col-12 form-col text-center">
                                    <button type="submit" class="btn btn-lg btn-primary" href="JeromyCV-SEPTEMBER2021.pdf">Send</a>
                                </div>
                            </div>
                        </form>
                    </div>
    
    
                </div>
                <!-- Contact Icons -->
                <div class="container-lg p-2 icon-cont">
                    <div class="row pt-3 text-center">
                            <!-- Call Me -->
                            <div class="col contact-icon">
                                <a href="tel:0">
                                    <img src="images/067-phone.png" style="width:64px;height:64px;object-fit:contain" class="img-fluid" alt="">
                                </a>
                            </div>
                            <!-- Email Me -->
                            <div class="col contact-icon">
                                <a href="mailto:jeromydenk@gmail.com">
                                    <img src="images/391-mail4.png" style="width:64px;height:64px;object-fit:contain" class="img-fluid" alt="">
                                </a>
                            </div>
                            <!-- Linkedin -->
                            <div class="col contact-icon">
                                <a href="https://www.linkedin.com/in/jeromy-denk-9753b2120/">
                                    <img src="images/linkedin-black.png" style="width:64px;height:64px;object-fit:contain" class="img-fluid" alt="">
                                </a>
                            </div>
                            <!-- GrabCAD -->
                            <div class="col contact-icon">
                                <a href="https://grabcad.com/jeromy.denk-1">
                                    <img src="images/grabcad_2.png" style="width:64px;height:64px;object-fit:contain" class="img-fluid" alt="">
                                </a>
                            </div>
                            <!-- GitHub -->
                            <div class="col contact-icon">
                                <a href="https://github.com/JeromyDenk">
                                    <img src="images/433-github.png" style="width:64px;height:64px;object-fit:contain" class="img-fluid" alt="">
                                </a>
                            </div>
                    </div>
                </div>
            </div>
    
            
        </section>
    </div>

    <!-- Footer -->
    <footer class="bg-black text-white text-center position-relative p-1 my-0">
        <div class="container">
            <p class="lead">Copyright &copy; 2023 Jeromy Denk</p>
        </div>
    </footer>

    <!-- Bootstrap JS File -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>

    <!-- ScrollSpy -->
    <script>
        window.onload = () => {
            const sections = document.querySelectorAll('.article-section');
            const label = document.querySelectorAll('.toc-link');
            
            const observer = new IntersectionObserver((entries) => {
                for(const entry of entries)
                if(entry.isIntersecting)
                    trgt = entry.target;
                    id = trgt.id;
                    document.querySelectorAll('.toc-link.active').forEach(i => {i.classList.remove('active')});
                    document.querySelector('a[href*=' + id + ']').classList.add('active');

                    //For sub-sections, make parent toc-link active (assume there is an active sub-heading)
                    subToc = document.querySelectorAll('ul .toc-link.active')[0];
                    if(subToc != null){
                        subToc.parentNode.previousElementSibling.classList.add('active');
                    }
                },{
                rootMargin: "-50% 0px"
            });
            for (let i = 0; i < sections.length; i++)
            observer.observe(sections[i]);
        };
    </script>


    <!-- <script>
        let section = document.querySelectorAll('.article-section');
        let navLinks = document.querySelectorAll('.toc-link');

        window.onscroll = function(){

            section.forEach(sec =>{

                let top = window.scrollY;
                let offset = sec.offsetTop;
                let height = sec.offsetHeight;
                let id = sec.getAttribute('id');

                if(top >= offset && top < offset + height){
                    navLinks.forEach(links =>{
                        links.classList.remove('active');
                        document.querySelector('a[href*=' + id + ']').classList.add('active');

                    })
                }

            })

        }
    </script> -->

    <!-- Slideshow Script -->
    <script>
        
        (function() {

        init(); //on page load - show first slide, hide the rest

        function init() {
            parents = document.getElementsByClassName('slideshow-container');

            for (j = 0; j < parents.length; j++) {
                var slides = parents[j].getElementsByClassName("mySlides");
                // var dots = parents[j].getElementsByClassName("dot");
                slides[0].classList.add('active-slide');
                // slides[0].style.display = "block";
                // dots[0].classList.add('active');
            }
        }

        // Previous/Next Button Functionality 
        links = document.querySelectorAll('.slideshow-container a');

        for (i = 0; i < links.length; i++) {
        links[i].onclick = function() {
            current = this.parentNode.parentNode;

            var slides = current.getElementsByClassName("mySlides");
            // var dots = current.getElementsByClassName("dot");
            curr_slide = current.getElementsByClassName('active-slide')[0];
            // curr_dot = current.getElementsByClassName('active')[0];
            curr_slide.classList.remove('active-slide');
            // curr_dot.classList.remove('active');
            if (this.className == 'next') {

                if (curr_slide.nextElementSibling.classList.contains('mySlides')) {
                    curr_slide.nextElementSibling.classList.add('active-slide');
                    // curr_dot.nextElementSibling.classList.add('active');
                } else {
                    slides[0].classList.add('active-slide');
                    // dots[0].classList.add('active');
                }

            }

            if (this.className == 'prev') {

                if (curr_slide.previousElementSibling) {
                    curr_slide.previousElementSibling.classList.add('active-slide');
                    // curr_dot.previousElementSibling.classList.add('active');
                } else {
                    slides[slides.length - 1].classList.add('active-slide');
                    // dots[slides.length - 1].classList.add('active');
                }

            }

        }

        }
        })();
    </script>
</body>
</html>


